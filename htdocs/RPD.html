<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Blue Light Camera Impact Analysis Report - Keting Lyu</title>
<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Keting LYU">
<meta property="og:title" content="Blue Light Camera Impact Analysis">

<meta property="og:type" content="article">
<script async="" src="./RPD/analytics.js"></script>
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0"> <script> document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js '; </script>
<link rel="stylesheet" href="./RPD/main.css">
<meta http-equiv="cleartype" content="on"> 

<meta name="theme-color" content="#ffffff"> <!-- end custom head snippets -->
<script type="text/javascript" async="" src="./RPD/embed.js"></script>
<script async="" type="text/javascript" src="./RPD/count.js"></script>
<style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>
<script src="./RPD/alfie.f51946af45e0b561c60f768335c9eb79.js" async="" charset="UTF-8"></script></head>
<body data-gr-c-s-loaded="true">
<div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"> <button class="hidden" count="0"><div class="navicon"></div></button>
<ul class="hidden-links hidden"></ul></nav></div></div></div>
<div class="page__hero" style=" "> <img src="./RPD/head.png" alt="Titanic: Getting Started With R - Part 5: Random Forests" class="page__hero-image" height=50% width=50%>
</div>
<div id="main" role="main">
<div class="sidebar sticky"><div itemscope="" itemtype="http://schema.org/Person">

<div class="author__avatar"> <a href="https://kentlyu.github.io/"> <img src="./RPD/klpic.png" class="author__avatar" alt="Trevor Stephens"> </a>
</div>
<div class="author__content">
<h3 class="author__name">Keting Lyu</h3>
<p class="author__bio">Data Scientist, Opportunity Seeker.</p>
</div>
<div class="author__urls-wrapper"> <button class="btn btn--inverse">Follow</button><ul class="author__urls social-icons">

<li><a href="https://kentlyu.github.io/"><i class="fa fa-fw fa-chain" aria-hidden="true"></i> Website</a></li>
<li><a href="https://www.facebook.com/xccxken"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i>Facebook</a></li>
<li><a href="https://www.linkedin.com/in/lyuketing/"><i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn</a></li>
<li><a href="https://github.com/kentLYU"><i class="fa fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
</ul>
</div>
</div></div>
<article class="page" itemscope="" itemtype="http://schema.org/CreativeWork"><meta itemprop="headline" content="Titanic: Getting Started With R - Part 5: Random Forests">
<meta itemprop="description" content="Part 2 of the Kaggle Titanic Getting Started With R Tutorial: ensemble models - RandomForests and Conditional Inference Forests!">
<meta itemprop="datePublished" content="October, 2017">
<div class="page__inner-wrap">
<header><h1 class="page__title" itemprop="headline">Blue Light Camera Impact Analysis</h1>
<p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 13 minutes read</p>
</header>
<section class="page__content" itemprop="text">
<p><a href="./research_files/Keting_Evaluating the Effectiveness of Blue Light Cameras in Rochester.pdf">PDF Version</a></p>

<h2>Background</h2>
<ul>
<li>Rochester Policement Department (RPD) purchased/installed 50 cameras in 2008.</li>
<li>Up to 2010, a total of 82 cameras were installed .</li>
<li>Current number of cameras is 136 (Year 2017).</li>
</ul>

<h2>Data</h2>
<h3>Camera Data</h3>
<table>
  <thead>
  <tr>
    <th>Longitude</th>
    <th>Latitude</th>
    <th>ObjectID</th>
    <th>Address</th>
    <th>Type</th>
    <th>Program</th>
    <th>Year</th>
    <th>Month</th>
    <th>section</th>
  </tr>
  </thead>
  <tr>
    <td>-77.6127</td>
    <td>43.17339</td>
    <td>3</td>
    <td>N Clinton Ave and Scrantom St</td>
    <td>Video</td>
    <td>BlueLight</td>
    <td>2009</td>
    <td>7</td>
    <td>7</td>
  </tr>
  <tr>
    <td>-77.6031</td>
    <td>43.18073</td>
    <td>4</td>
    <td>Ave D and Bauman St</td>
    <td>Video</td>
    <td>BlueLight</td>
    <td>2009</td>
    <td>7</td>
    <td>5</td>
  </tr>
</table>

<h3>Crime Data</h3>
<table>
  <thead>
  <tr>
    <th>FullAddress</th>
    <th>Latitude</th>
    <th>Longitude</th>
    <th>CrimeType</th>
    <th>Section</th>
    <th>Description</th>
    <th>OccurDate</th>
    <th>Quarter</th>
  </tr>
  </thead>
  <tr>
    <td>810 BROWN ST</td>
    <td>43.15069</td>
    <td>-77.6355</td>
    <td>BURGLARY</td>
    <td>3</td>
    <td>BURGLARY</td>
    <td>2/1/2005</td>
    <td>1</td>
  </tr>
  <tr>
    <td>501 GENESEE ST</td>
    <td>43.14028</td>
    <td>-77.6372</td>
    <td>LARCENY</td>
    <td>5</td>
    <td>PETIT LARCENY</td>
    <td>2/1/2005</td>
    <td>1</td>
  </tr>
</table>

<blockquote>
<ol>
<li>All-crime dataset of 356,696 rows.</li>
<li>Felony dataset of 91,837 rows.</li>
<li>Batch 2008: the batch of cameras that were installed by the end of 2008.</li>
<li>Batch 2016: the batch of cameras that were installed around July 2016.</li>
<li>Control group: 2,358 road intersections that are at least 300 meters far away from any of installed Blue Light cameras.</li>
</ol>
</blockquote>

<a name="Figs1">
<figure>
    <img src="./RPD/Crime In DIfferent Sections By Year.png" height="100" width="80">
    <figcaption>Figure 1: Crime In DIfferent Sections By Year</figcaption>
</figure>
</a>

<h2>Exploratory Analysis</h2>
<p>
The goal of this part is to explore interactions between crime distribution and Blue Light cameras as well as general patterns hidden in the crime records.
</p>

<a name="Fig2">
<figure>
    <img src="./RPD/Figure 1- Comparison Between All-Crime Distributions.png" height="150" width="90">
    <figcaption>Figure 2: Comparison Between All-Crime Distributions</figcaption>
</figure>
</a>

<p>In <a href="#Fig3">Figure 3</a>, the left contour plot demonstrates the density distribution of all-crime activities from 2005 to 2008, which in this project is treated as pre-blue-light period, while the right plot shows the distribution in the period from 2009 to 2012, during which the batch 2008 cameras had taken effect for a while.
</p>
<p> On one hand, the center of city (yellow area in the center of the plots) consistently remains a hot bed of crime activities throughout the 8 years. On the other hand, some highlighted area in the left plot is no longer so in the right plot. Taking the city section of Clinton for example, which is located to the north of the city center, it was clearly one of the areas with highest crime density in the left plot, but its crime density reduced in the right plot. Meanwhile, a new hightlighted area shows up in the north of Clinton, which is the location of a Walmart supermarket frequented by crime of larceny.
</p>

<a name="Fig3">
<figure>
    <img src="./RPD/Figure 2- Comparison Between Felony Distributions.png" height="150" width="90">
    <figcaption>Figure 3: Comparison Between Felony Distributions</figcaption>
</figure>
</a>

<p>Since felony activities are the main focus of this project, we also draw similar contour plots demonstrating felony distributions in the two four-year periods as shown in <a href="#Fig3">Figure 3</a>. By observation, however, <a href="#Fig3">Figure 3</a> does not show any significant density shifting in the case of felony actitivities. Areas with high crime density remains, if not deteriorates to, the crime-highlighted areas during 09-12 period.</p>

<a name="Fig4">
<figure>
    <img src="./RPD/Figure 3- Monthly Crim Count Time-Series Plot.png" height="150" width="90">
    <figcaption>Figure 4: Monthly Crim Count Time-Series Plot; <b>Left</b>: All-Crime; <b>Right</b>: Felony</figcaption>
</figure>
</a>

<p>While contour maps perform well in revealing where hot areas of crime are located, they do not tell much about quantitative variation of crime counts in the dimension of time. Therefore we also made time-series plots, as shown in <a href="#Fig4">Figure 4</a>, using all-crime and felony datasets respectively.</p>
<p>When crime records are summarized on monthly base, a strong patten of seasonality is revealed. The frequency of crime activities, no matter it is for all-crime or only felony, tends to peak in summer time, and then dips down to the bottom during December and January. More interesting than the pattern of seasonality is a decreasing trend in both all-crime and felony activities. The patterns can be observed in <a href="#Fig4">Figure 4</a>.</p>

<iframe
  src="./js%20plots/Crime_by_Type_for_Effective_Ineffective_Cameras.html"
  width="110%"
  height="300px"
  frameborder="0"
  scrolling="no">
</iframe>
<p style="color:gray;font-size:80%;font-family:Times, Times New Roman, Georgia, serif">Figure 5: Crime by Type for Effective and Ineffective Cameras</p>

<iframe
  src="./js%20plots/Crime_Yearly_Count_Around_Effective_Clusters.html"
  width="120%"
  height="230px"
  frameborder="0"
  scrolling="no">
</iframe>

<iframe
  src="./js%20plots/Crime_Yearly_Count_Around_Ineffective_Clusters.html"
  width="120%"
  height="230px"
  frameborder="0"
  scrolling="no">
</iframe>

<p style="color:gray;font-size:80%;font-family:Times, Times New Roman, Georgia, serif">Figure 6: <b>Top</b>: Crime Yearly Count Around Effective Clusters; <b>bottom</b>:Crime Yearly Count Around Ineffective Clusters</p>


<h2>Methods</h2>
<h3>Crime Count</h3>
<p>In order to quantify a camera's impact on its nearby crime activities we first developed a measuring metric <i>crime count</i>. <i>Crime</i> count is the sum of reports of crime activities that happened within the distance of <i>r</i> away from a location <i>l</i> during a period of time <i>t</i> , where <i>r</i> is the radius of a circle centered at <i>l</i>, which stands for the geographical coordinates of a camera or control intersection, and <i>t</i> is a time interval, which could be one month, three months, etc. In this project <i>r</i> is fixed at 50 meters, while <i>t</i> is various across different hypothesis tests.</p>
<h3>Control Group</h3>
<p>As it can be seen in figures, crime activities were decreasing across the city. Empirically speaking, many factors such as economy, demography, government policies and even some unconceivable elements can be attributed to the decreasing trend. With respect to this project, we must take into account the confounding effects of these factors on crime. To overcome this challenge the control group which consists of 2,358 intersections are brought in and the crime activities near control group are used as a benchmark in comparison with those near cameras. As mentioned earlier, a 300-meter threshold is set in the process of choosing control intersection.</p>
<h3>Hypothesis Tests</h3>
<p> If a Blue Light camera has solid impact on nearby crimes, then a decreas- ing pattern of crime is supposed to be observable along a certain period of time. Otherwise, the camera0s impact on crime should be considered as obscure. Based on this assumption we designed a one-sided hypothesis in the following expression, where <i>prior crime count</i> stands for a sequence of counts of crimes recorded prior to the stallation of a batch of cameras, and <i>post crime count</i> for the post-installtion data.</p>
<p><img src="./RPD/hyt.png" height="850" width="480" alt="Variable importance" class="align-center"></p>

<h3>Rate of Change</h3>
<p>Consider the case where the numerator <i>f</i> of a rate is a function <i>f(a)</i> where a happens to be the denominator of the rate. A rate of change of <i>f</i> with respect to a (where a is incremented by <i>h</i>) can be formally defined in two ways:
<p><img src="./RPD/roc.png" height="650" width="350" alt="Variable importance" class="align-center"></p>
<p>where <i>f(x)</i> is the function with respect to <i>x</i> over the interval from <i>a</i> to <i>a+h</i>. An instantaneous rate of change is equivalent to a derivative. In this research <i>h</i> is time period, <i>f(x)</i> is crime count during this period.</p>
<iframe
  src="./js%20plots/rateofchange.html"
  width="110%"
  height="430px"
  frameborder="0"
  scrolling="no">
</iframe>
<p style="color:gray;font-size:80%;font-family:Times, Times New Roman, Georgia, serif">Figure 7: Yearly Rate of Change of Crimes in City Section 7 (Clinton)</p>

<h2>Results</h2>
<p>In this section we conducted a series of one-sided paired <i>t-tests</i> and <i>Wilcoxon rank</i> sum tests to assess the null hypothesis. In <i>t-tests</i>, for each camera in each batch we computed its felony crime count within time interval <i>t</i>starting at T<sub><i>install</i></sub>,thetimepointofcamerainstallation, and paired it with the count whithin the same period one year earlier. Here t was set at three- month, six-month, and one-year respectively, and Tinstall was set at a time point upon which most of cameras in the batch had been installed. Taking the 2008 batch for example, since most of the cameras had been installed by the end of 2008, T<sub><i>install</i></sub> was set at January 1<sub><i>st</i></sub>, 2009. The same crime count computation was also conducted on each intersetion in the control group. Then we implemented one-sided <i>t-tests</i> on the paired felony crime counts.

<p>Table 1 and 2 enumerate the test results for batch 2008 and 2016 respectively. The paired felony crime counts of batch 2008 cameras, no matter in what time interval they were com- puted, fail to reject the null hypothesis that crime count in time interval t is less than or equal to the value one year earlier. In another word, batch 2008 cameras do not see statistically significant decrease in felony activities during a time interval t following their installation, where t is three-month, six-month, or one-year. We ended up with the same result in tests on batch 2016 cameras as shown in Table 2.</p>

<h3>Table 1: One-Sided Paired Difference T-Test for Batch 2008 (df = 55)</h3>
<table>
  <thead>
  <tr>
    <th>Camera Batch</th>
    <th>Time Interval</th>
    <th>P-Value</th>
    <th>95% C.I.</th>
  </tr>
  </thead>
  <tr>
    <td><b>batch 2008</td>
    <td>three-month</td>
    <td>0.383</td>
    <td>[-0.246, ∞)</td>
  </tr>
  <tr>
    <td>control group</td>
    <td>three-month</td>
    <td>0.057</td>
    <td>[-0.0009, ∞]</td>
  </tr>
  <tr>
    <td><b>batch 2008</td>
    <td>six-month</td>
    <td>0.288</td>
    <td>[-0.354, ∞)</td>
  </tr>
  <tr>
    <td>control group</td>
    <td>six-month</td>
    <td>0.001</td>
    <td>[0.031, ∞)</td>
  </tr>
  <tr>
    <td><b>batch 2008</td>
    <td>one-year</td>
    <td>0.208</td>
    <td>[-0.286, 1.286]</td>
  </tr>
  <tr>
    <td>control group</td>
    <td>one-year</td>
    <td>0.560</td>
    <td>[-0.051, 0.094]</td>
  </tr>
</table>

<h3>Table 2: One-Sided Paired Difference T-Test for Batch 2016 (df = 18)</h3>
<table>
  <thead>
  <tr>
    <th>Camera Batch</th>
    <th>Time Interval</th>
    <th>P-Value</th>
    <th>95% C.I.</th>
  </tr>
  </thead>
  <tr>
    <td><b>batch 2016</td>
    <td>three-month</td>
    <td>0.250</td>
    <td>[-1.276, ∞)</td>
  </tr>
  <tr>
    <td>control group</td>
    <td>three-month</td>
    <td>3.176e-05</td>
    <td>[0.033, ∞]</td>
  </tr>
  <tr>
    <td><b>batch 2016</td>
    <td>six-month</td>
    <td>0.167</td>
    <td>[-1.298, ∞)</td>
  </tr>
  <tr>
    <td>control group</td>
    <td>six-month</td>
    <td>3.427e-08</td>
    <td>[0.071, ∞)</td>
  </tr>
</table>


<p>In Wilcoxon tests, we narrowed the time interval t down to one month. We first computed monthly felony crime counts from 2005 to 2016 for each camera in batch 2008. Then we conducted a sequence of 8 Wilcoxon tests for each camera. More specifically, when selecting <i>pre-installation crime count</i> for each test in a sequence we always included the whole dataset of pre-installation felony crime counts recorded from 2005 to 2008; On the other hand, we accumulatively added one year’s post-installation felony crime counts into <i>pre-installation crime count</i>. For example, in the first Wilcoxon test in a sequence, its <i>pre-installation crime count</i> only included monhtly crime counts in 2009, the second test contained the data in 2009 and 2010, and each following test had one more year’s post-installation crime counts than the previous one.</p>

<p>With data prepared, we conducted the sequence of Wilcoxon rank sum tests for each camera in order to test the null hypothesis that pre-2009 felony crime counts is greater than the post- 2009 data. The same process of compution was also implemented on the control group. We chose Wilcoxon tests over t-tests in this process because Wilcoxon tests loose the constaint of normality assumption on the monthly crime counts, which are apparantly time-series.</p>


<a name="Figs5">
<figure>
    <img src="./RPD/Results of 8-Wilcoxon-Test Sequence for Each Group.png" height="150" width="90">
    <figcaption>Figure 8: Results of 8-Wilcoxon-Test Sequence for Each Group</figcaption>
</figure>
</a>

<p>As a result, the sequence of tests show a trend that more members in batch 2008 rejected the null hypothesis tests as more years of post-installation monthly felony crime counts were added into post crime count. While control group showed a similar pattern in the tests, batch 2008 had faster growth in percentage (see Figure 4).</p>

<h2>Conclusion</h2>
<p>From 2005 to 2016, the City of Rochester saw a steady decreasing trend in crime. For all-crime activities, a peak-shifting pattern in all-crime density distribution was observed since the installation of the first batch of Blue Light cameras, while similar pattern did not show up in the case of felony activities. By conducting a series of hypothesis tests on felony records, we found that the crime count in a Blue Light camera’s viewshed within the time interval following its installation was statistically significant different from the value in the same period one year earlier. In constrast, when it came to long term patterns, more Blue Light cameras had seen statistically significant deceasing trend in felony activities within their viewshed. In another word, it takes time for a Blue Light camera to have impact on felony activities.</p>





</section><footer class="page__meta">
<p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Posted:</strong> <time datetime="2014-01-19T00:00:00+00:00">October, 2017</time></p></footer>

